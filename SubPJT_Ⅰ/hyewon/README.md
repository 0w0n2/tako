# 1-2 주차 진행 상황
👤 작성자 : 이혜원

## (1) 기획
- [x] 주제 선정
- [x] 기능 명세서 작성 진행  
- [x] MySQL ERD 설계
- [x] Jira WebHook 알림 설정 & Convention 설정 및 팀원에게 공유
- [x] 백엔드 Spring Boot 코드 초기 세팅

---
## (2) Smart Contract 학습
### ✨ Smart Contract 의 정의
특정 조건이 모두 충족되었을 때, 미리 정해진 코드를 따라 자동으로 실행되는 불변의(Immutable) 컴퓨터 프로그램 (마스터링 이더리움)
- 계약의 생성, 검증, 실행 과정을 자동화하여 중개자 없이 거래를 가능하게 함
- 핵심 특징 :
    - 불변성 (Immutable) : 한 번 배포되면 변경 불가
        - 만약 수정이 필요하면 기존 계약을 비활성화하고 새로운 버전의 계약을 배포해야 함
- 결정성 (deterministic) : 누가, 언제, 어떤 환경에서 실행하더라도 결과가항상 동일
- 실행 환경 : 이더리움 가상 머신(EVM) 
    - EVM : 이더리움 블록체인에 참여하는 모든 노드에 의해 공유되는 하나의 거대한 **'탈중앙화된 세계 컴퓨터(Decentralized World Computer)'**
    - 스마트 컨트랙트 코드를 실행하고, 이더리움의 상태(계정 잔액, 컨트랙트 데이터 등)를 계산하고 관리하는 역할을 함
- 주요 개발 언어 : **Solidity**, LLL, Viper, Assembly 등


### ✨ Smart Contract 배포와 호출
![이미지](./readme-assets/smartcontract_배포와_호출.png)  
#### (1) 배포
```
블록체인에 올리기
→ 작성한 스마트 컨트랙트 코드를 이더리움 네트워크 상에서 실행될 수 있는 상태로 만듦
```

1. **스마트 컨트랙트 코드 작성(`.sol`)**
2. **컴파일** : 작성된 코드를 솔리디티 컴파일러를 통해 EVM 이 이해할 수 있는 언어로 변환(EVM Bytecode)
    - **ABI (Application Binary Interface)** : 컨트랙트의 사용 설명서와 같은 역할을 하는 JSON 형식의 파일로, 컨트랙트에 어떤 함수가 있고 각 함수가 어떤 매개변수(parameter)를 받으며, 어떤 값을 반환하는지에 대한 정보가 정의되어 있음. 
        - 외부 애플리케이션(DApp 등)이 컨트랙트와 상호작용(호출)하려면 반드시 ABI를 참조해야 함
3. **배포 트랜잭션 생성** : 컴파일된 바이트코드를 데이터(payload)로 포함하는 트랜잭션을 생성
    - 이 트랜잭션은 `to` 주소 필드가 비어있으며, "새로운 컨트랙트를 생성하겠다" 는 의미를 가짐
4. **트랜잭션 서명 및 전송** : 생성된 트랜잭션을 배포자의 개인키(Private Key)로 서명하여 트랜잭션의 소유권을 증명하고, 이를 이더리움 네트워크에 전송함
    - 이 과정에서 컨트랙트를 블록체인에 영구적으로 기록하기 위한 수수료(가스)가 소모됨
5. **채굴 및 컨트랙트 주소 생성** : 네트워크의 채굴자(Validator)가 해당 트랜잭션을 블록에 포함시키면 배포가 완료됨
    - 이 과정에서 해당 스마트 컨트랙트의 고유한 주소(Contract Address, CA)가 생성되고, 이 주소를 통해 이후 컨트랙트와 상호작용할 수 있게 됨

#### (2) 호출
```
컨트랙트 기능 사용하기
→ 배포된 스마트 컨트랙트의 함수를 실행하여 상태를 변경하거나 데이터를 조회하는 과정
```

1. **트랜잭션 데이터 생성** : 호출하려는 함수와 전달할 인자(argument)를 ABI 를 참조하여 EVM이 이해할 수 있는 형식의 데이터로 변환
2. **트랜잭션 생성 및 전송** : 호출할 스마트 컨트랙트의 주소(CA)를 `to` 필드에 넣고, 위에서 생성한 함수 데이터를 payload에 담아 트랜잭션을 생성
    - 이후 개인키로 서명하여 네트워크에 전송함
    - 상태 변경 함수 호출 : 컨트랙트 내부의 데이터를 변경하는 경우(Ex. 토큰 전송) 가스가 소모되며, 이 트랜잭션은 블록체인에 기록되어야 함
    - 데이터 조회 함수 호출 (View/Pure) : 단순히 데이터를 읽기만 하는 함수는 가스를 소모하지 않음!
        - 트랜잭션을 발생시키지 않고 특정 노드에 직접 질의하여 결과를 즉시 얻을 수 있다.
3. **EVM 실행 및 결과 반환** : 트랜잭션이 블록에 포함되면, EVM 은 해당 컨트랙트의 코드를 실행하고 그 결과를 블록체인의 상태에 반영함

---
테스트 환경
- [Remix IDE 접속](https://remix.ethereum.org/#lang=en&optimize=false&runs=200&evmVersion=null&version=soljson-v0.8.30+commit.73712a01.js)
